[Главная](../index) → Начало работы → *Отладочный профилировщик*<br>
<small>[← Назад](Structuring_Your_Mod "Начало работы: Проверка обновлений с Forge") | [Далее →](../Concepts/Sides "Концепции: Стороны")</small>

---

- [**Отладочный профилировщик**](#Debug_Profiler)
  + [Использование отладочного профилировщика](#Using_the_Debug_Profiler)
  + [Чтение резултатов профилировки](#Reading_a_Profiler_result)
  + [Профилирование Вашего кода](#Profiling_your_own_code)

---

# <a name="Debug_Profiler"></a>Отладочный профилировщик
Minecraft предоставляет отладочный профилировщик (Debug Profiler), который можно использовать для нахождения времени выполнения кода. Особенно учитывая такие вещи, как `TickEvent` и обновляющиеся каждый такт `TileEntity`, это может быть очень полезно для разработчиков модификаций и владельцев серверов, которые хотят найти причину возникающих лагов.

## <a name="Using_the_Debug_Profiler"></a>Использование отладочного профилировщика
Отладочный профилировщик очень прост в использовании. Вам нужны лишь две команды: `/debug start`, начинающая процесс профилировки, и `/debug stop`, завершающая его. <small>Эти команды вводятся в чате игры.</small> Здесь важно то, что чем больше времени Вы дадите на сбор данных, тем лучше будет результат. Рекомендуется собирать информацию как минимум в течение минуты.

> **Примечание**
>
> Разумеется, Вы можете профилировать только те участки кода, которые выполняются. Сущности и блок-сущности должны существовать в игровом мире, чтобы информация о них появилась в резултатах профилировки.

После завершения профилировки в папке `debug` в директории игры появится новый файл. Его название будет использовать формат `profile-results-гггг-ММ-дд_чч.мм.сс.txt` и содержать информацию о дате и времени.

## <a name="Reading_a_Profiler_result"></a>Чтение результатов профилировки
В верхней части файла содержится информация о том, как долго в миллисекундах профилировщик был запущен и сколько за это время было тактов (ticks).

Ниже Вы найдёте информацию, похожую на следующее:

```
[00] levels - 96.70%/96.70%
[01] |   World Name - 99.76%/96.47%
[02] |   |   tick - 99.31%/95.81%
[03] |   |   |   entities - 47.72%/45.72%
[04] |   |   |   |   regular - 98.32%/44.95%
[04] |   |   |   |   blockEntities - 0.90%/0.41%
[05] |   |   |   |   |   unspecified - 64.26%/0.26%
[05] |   |   |   |   |   minecraft:furnace - 33.35%/0.14%
[05] |   |   |   |   |   minecraft:chest - 2.39%/0.01%
```

Вот небольшое объяснение того, что означает каждая часть:

| [02] | tick | 99.31% | 95.81% |
|------|------|--------|--------|
| Уровень вложенности секции. | Название секции. | Время, которое заняло выполнение секции, в процентах от времени выполнения родительской секции. Для слоя 0 это время, которое ушло на такт, для слоя 1 — процент от времени выполнения родительского слоя. | Время, которое заняло выполнение секции, в процентах от общей длительности такта. |

## <a name="Profiling_your_own_code"></a>Профилирование Вашего кода
Отладочный профилировщик имеет встроенную поддержку сущностей (`Entity`) и блок-сущностей (`TileEntity`). Если Вы хотите профилировать что-то ещё, Вам необходимо вручную создать секцию наподобие этой:

```Java
Profiler#startSection(<название секции> : String);
// Код, который Вы хотите профилировать
Profiler#endSection();
```

Вы можете получить экземпляр `Profiler` из объектов `World`, `MinecraftServer` и `Minecraft`. Теперь Вам нужно лишь найти в файле секцию с данным Вами названием.

---

<small>[← Назад](Structuring_Your_Mod "Начало работы: Проверка обновлений с Forge") | [Далее →](../Concepts/Sides "Концепции: Стороны")</small>